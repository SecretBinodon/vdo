
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filmixo Admin - Unrestricted Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #1da1f2; --dark: #34495e; --bg: #f4f6f8; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg); 
            padding: 20px; 
            color: var(--dark);
        }
        .container { 
            max-width: 850px; 
            margin: 0 auto;
            background: white; 
            padding: 40px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
        }
        h2 { text-align: center; color: var(--primary); margin-bottom: 30px; text-transform: uppercase; letter-spacing: 1px; }
        
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; color: #555; }
        
        input, textarea { 
            width: 100%; 
            padding: 14px; 
            border: 1px solid #e1e8ed; 
            border-radius: 8px; 
            font-size: 15px; 
            background: #f9f9f9;
            transition: 0.3s; 
            box-sizing: border-box; 
        }
        input:focus, textarea:focus { border-color: var(--primary); background: #fff; outline: none; box-shadow: 0 0 0 4px rgba(29, 161, 242, 0.1); }
        textarea { height: 120px; resize: vertical; }
        
        /* গ্রিড লেআউট */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        /* লিংক সেকশন ডিজাইন */
        .link-section {
            background: #f8fbff;
            border: 1px solid #e1e8ed;
            padding: 20px;
            border-radius: 10px;
            margin-top: 25px;
        }
        .section-title {
            font-size: 16px; font-weight: 700; color: var(--primary); margin-bottom: 15px; border-bottom: 2px solid #e1e8ed; padding-bottom: 10px; display: inline-block;
        }

        .generate-btn {
            width: 100%; padding: 16px; background: var(--primary); color: white; border: none; 
            border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 25px;
            transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(29, 161, 242, 0.3);
        }
        .generate-btn:hover { background: #0d8bd9; transform: translateY(-2px); }
        .generate-btn:active { transform: scale(0.98); }

        /* আউটপুট এরিয়া */
        .output-box { 
            margin-top: 30px; display: none; position: relative; 
            background: #282c34; border-radius: 10px; overflow: hidden;
        }
        pre { 
            color: #61dafb; padding: 25px; font-family: 'Consolas', monospace; font-size: 14px; 
            white-space: pre-wrap; margin: 0; max-height: 500px; overflow-y: auto;
        }
        .copy-btn { 
            position: absolute; top: 15px; right: 15px; 
            background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2);
            padding: 5px 12px; border-radius: 5px; cursor: pointer; font-size: 13px; transition: 0.2s;
        }
        .copy-btn:hover { background: rgba(255,255,255,0.2); }
    </style>
</head>
<body>

<div class="container">
    <h2><i class="fa-solid fa-code"></i> JSON Post Generator</h2>
    
    <!-- বেসিক ইনফরমেশন -->
    <div class="form-group">
        <label>Post Title</label>
        <input type="text" id="title" placeholder="মুভির নাম বা টাইটেল (ফাঁকা রাখা যাবে)">
    </div>

    <div class="grid-2">
        <div class="form-group">
            <label>Thumbnail / Poster Image URL</label>
            <input type="text" id="media" placeholder="ইমেজ লিংক">
        </div>
        <div class="form-group">
            <label>Video Duration</label>
            <input type="text" id="duration" placeholder="যেমন: 02:30:00">
        </div>
    </div>

    <div class="form-group">
        <label>Article Paragraphs (New Line = New Paragraph)</label>
        <textarea id="paragraphs" placeholder="আর্টিকেলের লেখা এখানে দিন..."></textarea>
    </div>

    <!-- লিংক সেকশন (আপডেটেড লজিক অনুযায়ী) -->
    <div class="link-section">
        <div class="section-title"><i class="fa-solid fa-link"></i> ডাউনলোড বাটন কনফিগারেশন</div>
        
        <!-- লজিক: Frontend এ downloadLink2 হলো প্রথম বাটন (1080p) -->
        <div class="form-group">
            <label>১. ভিজিট লিংক - 1080p (প্রথম বাটন)</label>
            <input type="text" id="link2" placeholder="ভিজিট লিংক ১ দিন (Step 1)">
        </div>

        <!-- লজিক: Frontend এ downloadLink1 হলো দ্বিতীয় বাটন (720p) -->
        <div class="form-group">
            <label>২. ভিজিট লিংক - 720p (দ্বিতীয় বাটন)</label>
            <input type="text" id="link1" placeholder="ভিজিট লিংক ২ দিন (Step 2)">
        </div>

        <!-- লজিক: Frontend এ downloadLink1 ই মূলত ফাইনাল লিংক হিসেবে কাজ করে (Current Logic)। 
             কিন্তু ইউজার ইন্টারফেসে এটি আলাদা দেখাচ্ছি যাতে আপনি বুঝেন এটাই মেইন মুভি লিংক -->
        <div class="form-group">
            <label style="color:#e0245e;">৩. মুভি ডাউনলোড লিংক (ফাইনাল বাটন)</label>
            <input type="text" id="finalMovieLink" placeholder="অরজিনাল মুভি/ফাইল লিংক এখানে দিন">
            <small style="color:#666; display:block; margin-top:5px;">* নোট: এই লিংকটিই ক্রাইটেরিয়া পূরণের পর ফাইনাল বাটনে কাজ করবে।</small>
        </div>
    </div>
    
    <input type="hidden" id="generatedId">
    <button class="generate-btn" onclick="generateJSON()">Generate JSON Code</button>

    <div class="output-box" id="output-area">
        <button class="copy-btn" onclick="copyCode()" id="copyBtn"><i class="fa-regular fa-copy"></i> Copy</button>
        <pre id="json-output"></pre>
    </div>
</div>

<script>
    // অটোমেটিক আইডি এবং ডিউরেশন জেনারেটর (পেজ লোড হলেই)
    document.addEventListener('DOMContentLoaded', () => {
        setupDefaults();
    });

    function setupDefaults() {
        // Random ID
        const id = 'post-' + Math.random().toString(36).substr(2, 6);
        document.getElementById('generatedId').value = id;
        
        // Random Duration (যদি ইউজার না দেয়, তবে প্লেসহোল্ডার হিসেবে থাকবে না, ভ্যালু হিসেবে জেনারেট হবে না, জাস্ট রেডি থাকবে)
        const h = Math.floor(Math.random() * 2);
        const m = Math.floor(Math.random() * 59);
        const s = Math.floor(Math.random() * 59);
        document.getElementById('duration').value = `0${h}:${m}:${s}`;
    }

    function generateJSON() {
        // ১. ভ্যালু নেওয়া (ফাঁকা থাকলেও সমস্যা নেই)
        const id = document.getElementById('generatedId').value;
        const title = document.getElementById('title').value.trim();
        const media = document.getElementById('media').value.trim();
        const duration = document.getElementById('duration').value.trim();
        const paraRaw = document.getElementById('paragraphs').value.trim();
        
        // লিংক ভ্যালু নেওয়া
        const visitLink1080 = document.getElementById('link2').value.trim(); // JSON key: downloadLink2
        const visitLink720 = document.getElementById('link1').value.trim();  // JSON key: downloadLink1 (partially used)
        const movieLink = document.getElementById('finalMovieLink').value.trim(); // This will govern the final logic

        // প্যারাগ্রাফ প্রসেসিং (ফাঁকা থাকলে খালি অ্যারে)
        const paragraphs = paraRaw ? paraRaw.split('\n').filter(line => line.trim() !== '') : [];

        // টাইমস্ট্যাম্প
        const date = new Date();
        // Bangladesh Time Offset fix (Simple ISO string)
        const uploadTime = date.toISOString();

        // ২. অবজেক্ট তৈরি করা (কোনো ভ্যালিডেশন চেক নেই)
        const postData = {
            id: id,
            uploadTime: uploadTime,
            title: title,
            mediaImage: media,
            videoDuration: duration,
            paragraphs: paragraphs,
            hashtags: "#Filmixo #Movies #Viral",
            
            // ৩. লিংকিং লজিক (Frontend কোড অনুযায়ী ম্যাপিং)
            // Frontend logic: 
            // - Button 1 (1080p) -> downloadLink2
            // - Button 2 (720p) -> downloadLink1
            // - Final Button -> downloadLink1 (Previous logic) OR we can pass the movie link here.
            
            // এখানে ট্রিক হলো: আমরা "Movie Link" ইনপুটটিকে `downloadLink1` এ সেট করবো কারণ ফ্রন্টএন্ডে `finalDl(p.downloadLink1)` কল হয়।
            // আবার `btn-720` ও `downloadLink1` ব্যবহার করে। 
            
            // সুতরাং: 
            downloadLink2: visitLink1080, // 1080p বাটন লিংক
            downloadLink1: movieLink || visitLink720 // যদি মুভি লিংক দেওয়া থাকে, সেটাই downloadLink1 হবে (কারণ ফাইনাল বাটন এটা ইউজ করে)।
        };

        // ৪. JSON আউটপুট দেখানো
        // আমরা একটি কমা (,) যুক্ত করে ফরম্যাট করবো যাতে সরাসরি lists এ পেস্ট করা যায়
        const jsonString = JSON.stringify(postData, null, 4);
        const finalString = jsonString.trim() + ","; // কমা যুক্ত করা হলো

        document.getElementById('json-output').innerText = finalString;
        document.getElementById('output-area').style.display = 'block';
        
        // নতুন আইডি রেডি করা পরের পোস্টের জন্য
        setupDefaults();
    }

    function copyCode() {
        const code = document.getElementById('json-output').innerText;
        navigator.clipboard.writeText(code);
        const btn = document.getElementById('copyBtn');
        btn.innerHTML = '<i class="fa-solid fa-check"></i> Copied';
        setTimeout(() => btn.innerHTML = '<i class="fa-regular fa-copy"></i> Copy', 2000);
    }
</script>

</body>
</html>
