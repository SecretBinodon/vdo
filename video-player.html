<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">ভিডিও প্লেয়ার</title>

    <script type='text/javascript' src='//pl27703154.revenuecpmgate.com/70/2c/67/702c67f9d1db58564142cc27691530f9.js'></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Fugaz+One&display=swap" rel="stylesheet">
    
    <style>
      /* নতুন হেডার সেকশনের স্টাইল */
      .header {
          background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
          color: #fff;
          padding: 10px 20px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          position: relative;
          overflow: hidden;
          display: flex;
          justify-content: space-between; 
          align-items: center;
          gap: 10px;
      }
      .header-left {
          display: flex;
          align-items: center;
          gap: 8px;
          min-width: 0;
      }
      .website-icon {
          width: 25px; 
          height: 25px;
      }
      .website-icon svg {
          fill: #fff;
          width: 100%;
          height: 100%;
      }
      .website-name {
          font-size: 20px;
          font-weight: 400; 
          font-family: 'Fugaz One', cursive; 
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
      }
      .name-part-1 {
          color: #FFD700; 
      }
      .name-part-2 {
          color: #fff; 
      }
      .header-right {
          display: flex;
          align-items: center;
          gap: 10px; 
          flex-shrink: 0; 
      }
      .social-icons-container {
          display: flex;
          gap: 5px; 
      }
      .social-icon {
          display: block;
          width: 25px; 
          height: 25px;
          transition: transform 0.2s ease;
      }
      .social-icon img {
          width: 100%;
          height: 100%;
          border-radius: 50%;
      }
      .social-icon:hover {
          transform: scale(1.1);
      }
      
      /* ভিডিও প্লেয়ার পেজের মূল স্টাইল */
      body {
        font-family: sans-serif;
        background-color: #121212; 
        color: #e0e0e0; 
        margin: 0;
        padding: 0;
        min-height: 100vh; 
        display: flex; 
        flex-direction: column;
        overflow-x: hidden;
      }
      .container {
        max-width: 900px;
        margin: 20px auto;
        padding: 10px;
      }
      .video-section {
        background-color: #2d2d2d;
        border-radius: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        padding: 15px; /* এই মানটি আপনার প্রয়োজনমতো পরিবর্তন করা হয়েছে */
      }
      .video-section h1 {
        text-align: center;
        font-size: 24px;
        margin: 0 0 10px 0; /* মার্জিন পরিবর্তন করা হয়েছে */
      }
      #video-player-container {
        position: relative;
        width: 100%;
        height: auto;
        background-color: #000;
        border-radius: 10px;
        overflow: hidden;
      }
      #video-player-container iframe {
        width: 100%;
        height: auto;
        border: 0;
      }

      /* মিডিয়া কোয়েরি */
      @media (min-width: 768px) {
        .header { padding: 15px 40px; }
        .website-name { font-size: 24px; }
        .website-icon { width: 30px; height: 30px; }
        .social-icon { width: 30px; height: 30px; }
      }
      @media (max-width: 767px) {
        .header { padding: 8px 10px; gap: 5px; }
        .website-name { font-size: 16px; }
        .website-icon { width: 20px; height: 20px; }
        .social-icon { width: 20px; height: 20px; }
      }
    </style>
</head>
<body>
    
    <div class="header">
        <div class="header-left">
            <div class="website-icon">
                 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M17 7h-4V4h4c2.21 0 4 1.79 4 4v4h-2V8c0-1.1-.9-2-2-2zm-6 8H7c-1.1 0-2-.9-2-2V9h2V7H7c-2.21 0-4 1.79-4 4v4c0 2.21 1.79 4 4 4h4v-2zm-1 3H7c-1.1 0-2-.9-2-2V9h2V7h2v2h4v2H9c-.55 0-1-.45-1-1s.45-1 1-1h4v2H9c-1.66 0-3 1.34-3 3v2c0 1.1.9 2 2 2h3v-2z"/>
                </svg>
            </div>
            <div class="website-name">
                <span class="name-part-1">Secret</span><span class="name-part-2">Binodon</span>
            </div>
        </div>
        <div class="header-right">
            <div class="social-icons-container">
                <a href="https://t.me/virallink_market" target="_blank" class="social-icon">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram">
                </a>
                <a href="https://www.facebook.com/share/1CNyeZ9b4K/" target="_blank" class="social-icon">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/2021_Facebook_icon.svg" alt="Facebook">
                </a>
                <a href="https://wa.me/" target="_blank" class="social-icon">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
                </a>
            </div>
        </div>
    </div>
    
    <main class="container">
        <div class="video-section">
            <h1 id="video-title">ভিডিও লোড হচ্ছে...</h1>
            <div id="video-player-container">
                </div>
        </div>
        
        <div class="ad-container">
            <script async="async" data-cfasync="false" src="//pl27703152.revenuecpmgate.com/247476cdf6d68a31797ec615e7b10572/invoke.js"></script>
            <div id="container-247476cdf6d68a31797ec615e7b10572"></div>
        </div>
    </main>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const cardId = urlParams.get('cardId');

        async function loadVideo() {
            const response = await fetch('cards.json');
            const allCardData = await response.json();
            const cardData = allCardData.find(card => card.id === cardId);

            if (cardData) {
                document.getElementById('video-title').textContent = cardData.title;
                document.getElementById('page-title').textContent = cardData.title;
                
                const videoPlayerContainer = document.getElementById('video-player-container');
                
                // এখানে iframe তৈরি করা হচ্ছে
                const iframe = document.createElement('iframe');
                iframe.src = cardData.videoLink;
                iframe.frameborder = "0";
                iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                iframe.allowFullscreen = true;
                
                // iframe লোড হওয়ার পর উচ্চতা সেট করা
                iframe.onload = function() {
                    const ratio = iframe.contentWindow.document.body.offsetWidth / iframe.contentWindow.document.body.offsetHeight;
                    if (ratio) {
                        iframe.style.height = (iframe.offsetWidth / ratio) + 'px';
                    }
                };

                // যদি iframe লোড হতে সমস্যা হয়, তবে একটি নির্দিষ্ট অনুপাত ব্যবহার করা
                iframes.onerror = function() {
                    console.error("Failed to load iframe content. Using default aspect ratio.");
                    iframe.style.height = (iframe.offsetWidth / (16/9)) + 'px';
                };

                // iframe কন্টেইনারে যুক্ত করা
                videoPlayerContainer.appendChild(iframe);

            } else {
                 document.getElementById('video-title').textContent = "দুঃখিত, ভিডিওটি পাওয়া যায়নি।";
            }
        }
        loadVideo();
    </script>
</body>
</html>
